#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative "../lib/factorix"
require "dry/cli"
require "zip"

# Suppress warnings about invalid dates in ZIP files
Zip.warn_invalid_date = false

begin
  Dry::CLI.new(Factorix::CLI).call
  exit 0
rescue Factorix::Error
  # Expected errors are already logged and displayed by CommandWrapper
  exit 1
rescue
  # Unexpected errors are already logged and displayed by CommandWrapper
  exit 2
end
